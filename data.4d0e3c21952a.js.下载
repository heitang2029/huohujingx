!function(){"use strict";var e={1225:function(){var e={},t=/^https:\/\/download.mozilla.org/,n=/^https:\/\/(bouncer-bouncer.stage.mozaws.net|stage.bouncer.nonprod.webservices.mozgcp.net)/,o=/^https:\/\/dev.bouncer.nonprod.webservices.mozgcp.net/,r=/^https:\/\/itunes.apple.com/,a=/^https:\/\/apps.apple.com/,i=/^https:\/\/play.google.com/,s=/^market:\/\/play.google.com/,l=/^https:\/\/apps.microsoft.com/,c=/^ms-windows-store:\/\/pdp\//;"undefined"==typeof window.dataLayer&&(window.dataLayer=[]),e.isValidDownloadURL=function(e){return"string"==typeof e&&!!(t.test(e)||n.test(e)||o.test(e)||r.test(e)||a.test(e)||i.test(e)||s.test(e)||l.test(e)||c.test(e))},e.getEventObject=function(e,t,n){var o=arguments.length>3&&arguments[3]!==undefined&&arguments[3],r=arguments.length>4&&arguments[4]!==undefined&&arguments[4],a={};return a.event=e+"_download",a.product=e,a.platform=t,a.method=n,o&&(a.release_channel=o),r&&(a.download_language=r),a},e.getEventFromUrl=function(d){if("undefined"==typeof window._SearchParams)return!1;if(!e.isValidDownloadURL(d))return!1;var f;f=d.indexOf("?")>0?window._SearchParams.queryStringToObject(d.split("?")[1]):{};var u={};if(t.test(d)||n.test(d)||o.test(d)){var p=f.product,w=p.split("-"),v=w[0];v="partner"===v?"firefox":v;var m=f.os;m="osx"===m?"macos":m,m=-1!==p.indexOf("msi")?m+"-msi":m;var g=w[1];"latest"!==(g="partner"===w[0]?"release":g)&&"stub"!==g&&"msi"!==g||(g="release"),u=e.getEventObject(v,m,"site",g,f.lang)}else if(i.test(d)||s.test(d)){var h="unrecognized",y="";switch(f.id){case"org.mozilla.firefox":h="firefox_mobile",y="release";break;case"org.mozilla.fenix":h="firefox_mobile",y="nightly";break;case"org.mozilla.firefox_beta":h="firefox_mobile",y="beta";break;case"org.mozilla.focus":h="focus";break;case"org.mozilla.klar":h="klar";break;case"com.ideashower.readitlater.pro":h="pocket";break;case"org.mozilla.firefox.vpn":h="vpn"}u=e.getEventObject(h,"android","store",y)}else if(a.test(d)||r.test(d)){var b=f.mz_pr?f.mz_pr:"unrecognized";u=e.getEventObject(b,"ios","store","release")}else if(l.test(d)||c.test(d)){var z="release"===f.mz_cn||"beta"===f.mz_cn?f.mz_cn:"unrecognized";u=e.getEventObject("firefox","win","store",z)}return u},e.handleLink=function(t){var n=t.target;if("A"!==n.nodeName&&Element.prototype.closest)n=n.closest("a");else if(!Element.prototype.closest)return!1;var o=n.href;e.sendEventFromURL(o)},e.sendEventFromURL=function(t){var n=e.getEventFromUrl(t);n&&e.sendEvent(n)},e.sendEvent=function(t){try{var n=window.dataLayer.push(t);n&&"function"==typeof n.then&&n["catch"]((function(){}))}catch(o){}e.sendOldEvent(t)},e.sendOldEvent=function(e){try{var t=JSON.parse(JSON.stringify(e));t.event="product_download";var n=window.dataLayer.push(t);n&&"function"==typeof n.then&&n["catch"]((function(){}))}catch(o){}};var d=e;"undefined"==typeof window.Mozilla&&(window.Mozilla={}),window.Mozilla.TrackProductDownload=d;for(var f=document.querySelectorAll(".ga-product-download"),u=0;u<f.length;++u)f[u].addEventListener("click",(function(e){d.handleLink(e)}),!1)},1444:function(e,t,n){var o=n(2673),r=window.dataLayer=window.dataLayer||[];"undefined"!=typeof Mozilla.Utils&&Mozilla.Utils.onDocumentReady((function(){if("undefined"!=typeof window._SearchParams){var e=(new window._SearchParams).params,t=(0,o.x)(e);t&&r.push({event:"experiment_view",id:t.experiment,variant:t.variation})}}))},2673:function(e,t,n){function o(e){if(Object.prototype.hasOwnProperty.call(e,"experiment")&&Object.prototype.hasOwnProperty.call(e,"variation")){var t=decodeURIComponent(e.experiment),n=decodeURIComponent(e.variation);if(/^\d{8}_amo_.[\w/.%-]{1,50}$/.test(t)&&/^[\w/.%-]{1,50}$/.test(n))return{experiment:t,variation:n}}return null}n.d(t,{x:function(){return o}})},6084:function(){"undefined"==typeof window.dataLayer&&(window.dataLayer=[]);var e,t,n,o={},r=[25,50,75,90],a=!0;o.getDepth=function(e,t,n){return n/(e-t)*100},o.sendEvent=function(e){window.dataLayer.push({event:"scroll",percent_scrolled:String(e)})},o.removeListener=function(){a&&(window.removeEventListener("scroll",o.scrollListener,!1),a=!1)},o.scrollHandler=function(){if("function"==typeof Array.prototype.filter){var e=document.documentElement.scrollHeight,t=window.innerHeight,n=window.scrollY,a=o.getDepth(e,t,n),i=r.filter((function(e){return a>=e}));r=r.filter((function(e){return a<e})),i.forEach((function(e){o.sendEvent(e)})),0===r.length&&o.removeListener()}else o.removeListener()},o.onScroll=(e=o.scrollHandler,t=100,function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout((function(){e.apply(r,o)}),t)});var i=o;"undefined"==typeof window.Mozilla&&(window.Mozilla={}),window.Mozilla.TrackScroll=i,window.addEventListener("scroll",i.onScroll,!1)}},t={};function n(o){var r=t[o];if(r!==undefined)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(2673),n(1444),n(1225);n(6084)}();