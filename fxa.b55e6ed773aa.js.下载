!function(){"use strict";var t={},e=Mozilla.Client,n=["https://accounts.firefox.com/","https://accounts.stage.mozaws.net/"];t.updateURL=function(t){var e=t.indexOf("?")>0?"&":"?";return t+=e+"context=fx_desktop_v3"},t.getHostName=function(t){var e=t.match(/^https?:\/\/(?:[^/?#]+)(?:[/?#]|$)/i);return e&&e[0]},t.interceptFxANavigation=function(t){t.preventDefault();for(var e=new URL(t.target.href).search,n=new window._SearchParams(e).params,i={},o=/^[\w/.%-]+$/,r=["flow_id","flow_begin_time","device_id","entrypoint","entrypoint_experiment","entrypoint_variation","utm_source","utm_campaign","utm_content","utm_term","utm_medium"],a=0;a<r.length;a++){var c=r[a];if(Object.prototype.hasOwnProperty.call(n,c)){var u=decodeURIComponent(n[c]);o.test(u)&&(i[c]=u)}}var f=i.entrypoint;return delete i.entrypoint,Mozilla.UITour.showFirefoxAccounts(i,f)},t.init=function(i){if(i=i||function(){},e._isFirefoxDesktop()){var o=parseFloat(e._getFirefoxVersion())>=136&&"undefined"!=typeof Mozilla.UITour,r=document.querySelectorAll(".js-fxa-cta-link");o&&Mozilla.UITour.ping((function(){for(var e=0;e<r.length;e++){var o=r[e],a=t.getHostName(o.href);a&&-1===n.indexOf(a)||(o.href=t.updateURL(o.href),o.setAttribute("role","button"),o.oncontextmenu=function(t){t.preventDefault()},o.addEventListener("auxclick",t.interceptFxANavigation),o.addEventListener("click",t.interceptFxANavigation))}i()}))}},t.init()}();